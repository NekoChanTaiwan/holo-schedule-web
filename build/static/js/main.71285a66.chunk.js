(this["webpackJsonpholo-schedule-web"]=this["webpackJsonpholo-schedule-web"]||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(11),c=n.n(r),i=n(12),s=n(22),o=n.n(s),u=n(160),l=n(161),j=n(87),b=Object(j.a)({palette:{primary:{main:"#53c2a0"},secondary:{main:"#efefef"}}}),d=Object(j.a)({palette:{type:"dark",primary:{main:"#53c2a0"},secondary:{main:"#efefef"}}}),h=n(37),p=n(21),O=n(4),f=n(143),x=n(144),m=n(146),v=n(147),g=n(38),w=n(162),y=n(148),k=n(149),S=n(150),N=n(151),I=n(152),T=n(153),C=n(80),D=n.n(C),E=n(83),L=n.n(E),B=n(51),H=n.n(B),_=n(52),F=n.n(_),W=n(53),z=n.n(W),J=n(81),P=n.n(J),R=n(82),U=n.n(R),Y=n(2),A=240,G=Object(f.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:A,width:"calc(100% - ".concat(A,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:A,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:A,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(p.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"center ",padding:e.spacing(0,1)},e.mixins.toolbar),link:{color:e.palette.text.primary,textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none"}},title:{flexGrow:1}}}));function X(){var e,t,n=G(),r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],u=c[1],l=localStorage.getItem("HoloScheduleTheme"),j=Object(a.useState)(null===l||"light"===l),b=Object(i.a)(j,2),d=b[0],h=b[1],f=function(e){o.a.publish("DrawerStatus",!s),u(!s)};return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(x.a,{position:"fixed",className:Object(O.a)(n.appBar,Object(p.a)({},n.appBarShift,s)),children:Object(Y.jsxs)(m.a,{children:[Object(Y.jsx)(v.a,{color:"secondary",edge:"start",className:Object(O.a)(n.menuButton,Object(p.a)({},n.hide,s)),onClick:f,children:Object(Y.jsx)(D.a,{})}),Object(Y.jsx)(g.a,{color:"secondary",className:n.title,variant:"h5",noWrap:!0,children:"HoloSchedule"}),Object(Y.jsx)(v.a,{onClick:function(e){o.a.publish("Theme",!d),h(!d)},children:d?Object(Y.jsx)(P.a,{color:"secondary"}):Object(Y.jsx)(U.a,{color:"secondary"})})]})}),Object(Y.jsxs)(w.a,{variant:"permanent",className:Object(O.a)(n.drawer,(e={},Object(p.a)(e,n.drawerOpen,s),Object(p.a)(e,n.drawerClose,!s),e)),classes:{paper:Object(O.a)((t={},Object(p.a)(t,n.drawerOpen,s),Object(p.a)(t,n.drawerClose,!s),t))},children:[Object(Y.jsx)(y.a,{className:n.toolbar,onClick:f,children:Object(Y.jsx)(k.a,{button:!0,className:n.toolbar,children:Object(Y.jsx)(S.a,{children:Object(Y.jsx)(L.a,{})})})}),Object(Y.jsx)(N.a,{}),Object(Y.jsx)(y.a,{children:["Live","Scheduled Lives","Ended"].map((function(e,t){return Object(Y.jsx)(I.a,{className:n.link,href:"#".concat(e.replaceAll(" ","_").toLowerCase()),children:Object(Y.jsxs)(k.a,{children:[Object(Y.jsx)(S.a,{children:0===t?Object(Y.jsx)(H.a,{}):1===t?Object(Y.jsx)(F.a,{}):Object(Y.jsx)(z.a,{})}),Object(Y.jsx)(T.a,{primary:e})]})},e)}))}),Object(Y.jsx)(N.a,{})]})]})}var Z=n(159),q=n(7),K=n.n(q),M=n(13),Q=n(158),V=n(60),$=n.n(V),ee=n(84),te=n.n(ee),ne=n(85),ae=n.n(ne),re=n(154),ce=n(155),ie=n(156),se=n(157),oe=n(163);$.a.extend(te.a).extend(ae.a);var ue=Object(f.a)((function(e){return{card:{width:337,"&:hover":{boxShadow:"3px 3px 5px ".concat(e.palette.grey[500])}},title:{textOverflow:"ellipsis"},bold:{fontWeight:"bold"},link:{color:e.palette.text.primary,textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none"}},name:{fontWeight:"bold",fontSize:"17px"}}})),le=function(e){var t,n,a=ue(),r=$()(e.start_at),c=e.platform,i=e.room,s=e.cover,o=e.title,u=e.member;switch(c){case"youtube":t="https://youtu.be/".concat(i),n="YouTube";break;case"twitch":t="https://www.twitch.tv/".concat(i),n="Twitch";break;default:t="#",n="Unknow"}return Object(Y.jsx)("a",{className:a.link,href:t,target:"_blank",rel:"noreferrer",children:Object(Y.jsx)(re.a,{className:a.card,raised:!0,children:Object(Y.jsxs)(ce.a,{children:[Object(Y.jsx)(ie.a,{className:a.title,image:s,width:"337",height:"190",component:"img"}),Object(Y.jsxs)(se.a,{children:[Object(Y.jsx)(g.a,{variant:"inherit",gutterBottom:!0,noWrap:!0,component:"h2",children:o}),Object(Y.jsxs)(Q.a,{container:!0,spacing:1,alignItems:"center",children:[Object(Y.jsx)(Q.a,{item:!0,children:Object(Y.jsx)(oe.a,{src:u.avatar})}),Object(Y.jsxs)(Q.a,{item:!0,children:[Object(Y.jsxs)(g.a,{className:a.name,children:[u.name," | ",n]}),Object(Y.jsxs)(g.a,{className:a.bold,variant:"body2",color:"textPrimary",children:[r.format("LT")," , ",r.fromNow()]})]})]})]})]})})})},je=n(61),be=n(86),de=n.n(be).a.create({baseURL:"https://holo.dev/api/v1/"}),he=function(){var e=Object(M.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("lives/current");case 2:return n=e.sent,e.abrupt("return",n.data.lives);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(M.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("lives/scheduled");case 2:return n=e.sent,e.abrupt("return",n.data.lives);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(M.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("lives/ended");case 2:return n=e.sent,e.abrupt("return",n.data.lives);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(M.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("members");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(M.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.get("channels?limit=100&page=1");case 2:return n=e.sent,e.next=5,de.get("channels?limit=100&page=2");case 5:return a=e.sent,e.abrupt("return",[].concat(Object(je.a)(n.data.channels),Object(je.a)(a.data.channels)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=Object(f.a)({container:{marginTop:15},item:{marginBottom:20,marginRight:20}}),ve=function(e){var t=me(),n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),l=u[0],j=u[1];function b(e,t){return d.apply(this,arguments)}function d(){return(d=Object(M.a)(K.a.mark((function e(t,n){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(e){b(s,fe),b(j,xe)}),[]),Object(Y.jsx)(Q.a,{container:!0,justify:"flex-start",className:t.container,children:void 0===e.holoData||0===c.length||0===l.length?Object(Y.jsx)(g.a,{color:"primary",variant:"h6",children:"Loading..."}):e.holoData.map((function(e){return Object(Y.jsx)(Q.a,{item:!0,className:t.item,children:Object(Y.jsx)(le,Object(h.a)(Object(h.a)({},e),{},{member:c.find((function(t){return t.id===l.find((function(t){return t.channel===e.channel})).member_id}))}))},e.id)}))})},ge=function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),r=n[0],c=n[1],s=function(){var e=Object(M.a)(K.a.mark((function e(t,n){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(e){s(c,he);var t=setInterval((function(e){s(c,he)}),6e4);return function(e){return clearInterval(t)}}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Q.a,{id:"live",container:!0,direction:"row",alignItems:"center",children:[Object(Y.jsx)(H.a,{color:"primary"}),"\xa0",Object(Y.jsxs)(g.a,{variant:"h6",color:"primary",children:["Live (",void 0===r?"":r.length,")"]})]}),Object(Y.jsx)(N.a,{}),Object(Y.jsx)(ve,{holoData:r})]})},we=function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),r=n[0],c=n[1],s=function(){var e=Object(M.a)(K.a.mark((function e(t,n){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(e){s(c,pe);var t=setInterval((function(e){s(c,pe)}),6e4);return function(e){return clearInterval(t)}}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Q.a,{id:"scheduled_lives",container:!0,direction:"row",alignItems:"center",children:[Object(Y.jsx)(F.a,{color:"primary"}),"\xa0",Object(Y.jsxs)(g.a,{variant:"h6",color:"primary",children:["Scheduled Lives (",void 0===r?"":r.length,")"]})]}),Object(Y.jsx)(N.a,{}),Object(Y.jsx)(ve,{holoData:r})]})},ye=function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(N.a,{}),Object(Y.jsxs)(g.a,{align:"center",variant:"subtitle2",color:"textPrimary",children:["Powered by\xa0",Object(Y.jsx)(I.a,{href:"https://github.com/YunzheZJU/non-stop-story",target:"_blank",rel:"noreferrer",children:"Non-stop-story"}),Object(Y.jsx)("br",{}),"Discord : NekoChan#2851",Object(Y.jsx)("br",{}),Object(Y.jsx)(I.a,{href:"https://github.com/NekoChanTaiwan/holo-schedule-web",target:"_blank",rel:"noreferrer",children:"NekoChanTaiwan/holo-schedule-web"})]})]})},ke=function(e){var t=Object(a.useState)(),n=Object(i.a)(t,2),r=n[0],c=n[1],s=function(){var e=Object(M.a)(K.a.mark((function e(t,n){var a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(e){s(c,Oe);var t=setInterval((function(e){s(c,Oe)}),6e4);return function(e){return clearInterval(t)}}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(Q.a,{id:"ended",container:!0,direction:"row",alignItems:"center",children:[Object(Y.jsx)(z.a,{color:"primary"}),"\xa0",Object(Y.jsxs)(g.a,{variant:"h6",color:"primary",children:["Ended (",void 0===r?"":r.length,")"]})]}),Object(Y.jsx)(N.a,{}),Object(Y.jsx)(ve,{holoData:r})]})},Se=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(e){var t=o.a.subscribe("DrawerStatus",(function(e,t){return c(t)}));return function(e){return o.a.unsubscribe(t)}}),[]);var s=Object(f.a)((function(e){return{container:{minHeight:"".concat(window.innerHeight,"px"),paddingTop:"".concat(e.mixins.toolbar.minHeight+25,"px"),paddingLeft:r?"260px":"92px",transition:e.transitions.create("padding-left",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}}))();return Object(Y.jsxs)(Z.a,{className:s.container,maxWidth:"xl",children:[Object(Y.jsx)(ge,{}),Object(Y.jsx)(we,{}),Object(Y.jsx)(ke,{}),Object(Y.jsx)(ye,{})]})},Ne=function(e){var t=localStorage.getItem("HoloScheduleTheme"),n=Object(a.useState)(null===t||"light"===t?b:d),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(e){localStorage.setItem("HoloScheduleTheme",c.palette.type)})),Object(a.useEffect)((function(e){return o.a.subscribe("Theme",(function(e,t){s(t?b:d)})),function(e){return o.a.unsubscribe("Theme")}}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(u.a,{}),Object(Y.jsx)(l.a,{theme:c,children:Object(Y.jsxs)("main",{style:{backgroundColor:c.palette.background.default},children:[Object(Y.jsx)(X,{}),Object(Y.jsx)(Se,{})]})})]})};c.a.render(Object(Y.jsx)(Ne,{}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.71285a66.chunk.js.map