(this["webpackJsonpholo-schedule-web"]=this["webpackJsonpholo-schedule-web"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),c=n.n(r),i=n(152),s=n(16),o=n(33),u=n(21),l=n(24),j=n.n(l),b=n(4),d=n(134),h=n(136),p=n(138),O=n(139),x=n(35),f=n(153),m=n(140),v=n(141),g=n(142),w=n(143),y=n(144),k=n(145),S=n(76),N=n.n(S),D=n(77),C=n.n(D),I=n(48),B=n.n(I),L=n(49),_=n.n(L),E=n(2),F=240,H=Object(d.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:F,width:"calc(100% - ".concat(F,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:F,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:F,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"center ",padding:e.spacing(0,1)},e.mixins.toolbar),link:{color:e.palette.text.primary,textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none"}}}}));function T(){var e,t,n=H(),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1];Object(a.useEffect)((function(){j.a.publish("Component","all")}),[]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(h.a,{position:"fixed",className:Object(b.a)(n.appBar,Object(u.a)({},n.appBarShift,i)),children:Object(E.jsxs)(p.a,{children:[Object(E.jsx)(O.a,{color:"inherit",edge:"start",className:Object(b.a)(n.menuButton,Object(u.a)({},n.hide,i)),onClick:function(){j.a.publish("DrawerStatus",!0),o(!0)},children:Object(E.jsx)(N.a,{})}),Object(E.jsx)(x.a,{variant:"h5",noWrap:!0,children:"HoloSchedule"})]})}),Object(E.jsxs)(f.a,{variant:"permanent",className:Object(b.a)(n.drawer,(e={},Object(u.a)(e,n.drawerOpen,i),Object(u.a)(e,n.drawerClose,!i),e)),classes:{paper:Object(b.a)((t={},Object(u.a)(t,n.drawerOpen,i),Object(u.a)(t,n.drawerClose,!i),t))},children:[Object(E.jsx)(m.a,{className:n.toolbar,onClick:function(){j.a.publish("DrawerStatus",!1),o(!1)},children:Object(E.jsx)(v.a,{button:!0,className:n.toolbar,children:Object(E.jsx)(g.a,{children:Object(E.jsx)(C.a,{})})})}),Object(E.jsx)(w.a,{}),Object(E.jsx)(m.a,{children:["Live","Scheduled Lives"].map((function(e,t){return Object(E.jsx)(y.a,{className:n.link,href:"#".concat(e.replaceAll(" ","_").toLowerCase()),children:Object(E.jsxs)(v.a,{children:[Object(E.jsx)(g.a,{children:0===t?Object(E.jsx)(B.a,{}):Object(E.jsx)(_.a,{})}),Object(E.jsx)(k.a,{primary:e})]})},e)}))}),Object(E.jsx)(w.a,{})]})]})}var W=n(151),z=n(11),J=n.n(z),P=n(18),R=n(146),U=n(56),A=n.n(U),X=n(78),Y=n.n(X),Z=n(147),q=n(148),G=n(149),K=n(150),M=n(154),Q=n(57),V=n(79),$=n.n(V).a.create({baseURL:"https://holo.dev/api/v1/"}),ee=function(){var e=Object(P.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("lives/current");case 2:return t=e.sent,e.abrupt("return",t.data.lives);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(P.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("lives/scheduled");case 2:return t=e.sent,e.abrupt("return",t.data.lives);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(P.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("members");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(P.a)(J.a.mark((function e(){var t,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("channels?limit=100&page=1");case 2:return t=e.sent,e.next=5,$.get("channels?limit=100&page=2");case 5:return n=e.sent,e.abrupt("return",[].concat(Object(Q.a)(t.data.channels),Object(Q.a)(n.data.channels)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A.a.extend(Y.a);var re=Object(d.a)((function(e){return{container:{marginTop:15},item:{marginBottom:20,marginRight:20},card:{width:337,"&:hover":{boxShadow:"8px 8px 10px ".concat(e.palette.grey[500])}},title:{textOverflow:"ellipsis"},bold:{fontWeight:"bold"},link:{color:e.palette.text.primary,textDecoration:"none","&:focus, &:hover, &:visited, &:link, &:active":{textDecoration:"none"}}}})),ce=function(e){return Object(E.jsx)("a",{className:e.classes.link,href:"https://youtu.be/".concat(e.room),target:"_blank",rel:"noreferrer",children:Object(E.jsx)(Z.a,{className:e.classes.card,raised:!0,children:Object(E.jsxs)(q.a,{children:[Object(E.jsx)(G.a,{className:e.classes.title,image:e.cover,component:"img"}),Object(E.jsxs)(K.a,{children:[Object(E.jsx)(x.a,{variant:"inherit",gutterBottom:!0,noWrap:!0,component:"h2",children:e.title}),Object(E.jsxs)(R.a,{container:!0,spacing:1,alignItems:"center",children:[Object(E.jsx)(R.a,{item:!0,children:Object(E.jsx)(M.a,{src:e.member.avatar})}),Object(E.jsxs)(R.a,{item:!0,children:[Object(E.jsx)(x.a,{className:e.classes.bold,children:e.member.name}),Object(E.jsx)(x.a,{className:e.classes.bold,variant:"body2",color:"textPrimary",children:A()(e.start_at).fromNow()})]})]})]})]})})})},ie=function(e){var t=re(),n=Object(a.useState)([]),r=Object(s.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)([]),l=Object(s.a)(u,2),j=l[0],b=l[1];function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(P.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){d(i,ne),d(b,ae)}),[]),Object(E.jsx)(R.a,{container:!0,justify:"flex-start",className:t.container,children:void 0===e.holoData||0===c.length||0===j.length?Object(E.jsx)(x.a,{variant:"h6",children:"Loading..."}):e.holoData.map((function(e){return Object(E.jsx)(R.a,{item:!0,className:t.item,children:Object(E.jsx)(ce,Object(o.a)(Object(o.a)({},e),{},{classes:t,member:c.find((function(t){return t.id===j.find((function(t){return t.channel===e.channel})).member_id}))}))},e.id)}))})},se=function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1],i=function(){var e=Object(P.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(e){var t=setInterval(void i(c,ee),6e4);return function(){return clearInterval(t)}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(R.a,{id:"live",container:!0,direction:"row",alignItems:"center",children:[Object(E.jsx)(B.a,{color:"primary"}),"\xa0",Object(E.jsxs)(x.a,{variant:"h6",color:"primary",children:["Live (",void 0===r?"":r.length,")"]})]}),Object(E.jsx)(w.a,{}),Object(E.jsx)(ie,{holoData:r})]})},oe=function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1],i=function(){var e=Object(P.a)(J.a.mark((function e(t,n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(e){var t=setInterval(void i(c,te),6e4);return function(){return clearInterval(t)}}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(R.a,{id:"scheduled_lives",container:!0,direction:"row",alignItems:"center",children:[Object(E.jsx)(_.a,{color:"primary"}),"\xa0",Object(E.jsxs)(x.a,{variant:"h6",color:"primary",children:["Scheduled Lives (",void 0===r?"":r.length,")"]})]}),Object(E.jsx)(w.a,{}),Object(E.jsx)(ie,{holoData:r})]})},ue=function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(w.a,{}),Object(E.jsxs)(x.a,{align:"center",variant:"subtitle2",color:"textPrimary",children:["Powered by",Object(E.jsx)(y.a,{href:"https://github.com/YunzheZJU/non-stop-story",target:"_blank",rel:"noreferrer",children:"Non-stop-story"}),Object(E.jsx)("br",{}),"Discord : NekoChan#2851",Object(E.jsx)("br",{}),Object(E.jsx)(y.a,{href:"https://github.com/NekoChanTaiwan/holo-schedule-web",target:"_blank",rel:"noreferrer",children:"NekoChanTaiwan/holo-schedule-web"})]})]})},le=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){var e=j.a.subscribe("DrawerStatus",(function(e,t){return c(t)}));return function(){return j.a.unsubscribe(e)}}),[]);var i=Object(d.a)((function(e){return{container:{minHeight:"".concat(window.innerHeight,"px"),paddingTop:"".concat(e.mixins.toolbar.minHeight+25,"px"),paddingLeft:r?"260px":"92px",transition:e.transitions.create("padding-left",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}}))();return Object(E.jsxs)(W.a,{className:i.container,maxWidth:"xl",children:[Object(E.jsx)(se,{}),Object(E.jsx)(oe,{}),Object(E.jsx)(ue,{})]})},je=function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(i.a,{}),Object(E.jsx)(T,{}),Object(E.jsx)(le,{})]})};c.a.render(Object(E.jsx)(je,{}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.a00f4661.chunk.js.map